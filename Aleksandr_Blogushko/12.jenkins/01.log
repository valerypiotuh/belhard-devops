Started by user blogushko
[Pipeline] Start of Pipeline
[Pipeline] node
Running on bh-worker in /home/worker/workspace/12.01
[Pipeline] {
[Pipeline] isUnix
[Pipeline] withEnv
[Pipeline] {
[Pipeline] sh
+ docker inspect -f . alpine
.
[Pipeline] }
[Pipeline] // withEnv
[Pipeline] withDockerContainer
bh-worker does not seem to be running inside a container
$ docker run -t -d -u 1000:1000 -u root -w /home/worker/workspace/12.01 -v /home/worker/workspace/12.01:/home/worker/workspace/12.01:rw,z -v /home/worker/workspace/12.01@tmp:/home/worker/workspace/12.01@tmp:rw,z -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** -e ******** alpine cat
$ docker top 7a1d2c610c40caf3acf7726a55e37ea57982d4b8df24254cbfbaa3c1b803cf69 -eo pid,comm
[Pipeline] {
[Pipeline] stage
[Pipeline] { (install)
[Pipeline] sh
+ apk update
fetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz
v3.16.0-325-g954c0a986d [https://dl-cdn.alpinelinux.org/alpine/v3.16/main]
v3.16.0-328-g9432077365 [https://dl-cdn.alpinelinux.org/alpine/v3.16/community]
OK: 17031 distinct packages available
+ apk add --no-cache curl wget git bash speedtest-cli
fetch https://dl-cdn.alpinelinux.org/alpine/v3.16/main/x86_64/APKINDEX.tar.gz
fetch https://dl-cdn.alpinelinux.org/alpine/v3.16/community/x86_64/APKINDEX.tar.gz
(1/25) Installing ncurses-terminfo-base (6.3_p20220521-r0)
(2/25) Installing ncurses-libs (6.3_p20220521-r0)
(3/25) Installing readline (8.1.2-r0)
(4/25) Installing bash (5.1.16-r2)
Executing bash-5.1.16-r2.post-install
(5/25) Installing ca-certificates (20211220-r0)
(6/25) Installing brotli-libs (1.0.9-r6)
(7/25) Installing nghttp2-libs (1.47.0-r0)
(8/25) Installing libcurl (7.83.1-r2)
(9/25) Installing curl (7.83.1-r2)
(10/25) Installing expat (2.4.8-r0)
(11/25) Installing pcre2 (10.40-r0)
(12/25) Installing git (2.36.2-r0)
(13/25) Installing libbz2 (1.0.8-r1)
(14/25) Installing libffi (3.4.2-r1)
(15/25) Installing gdbm (1.23-r0)
(16/25) Installing xz-libs (5.2.5-r1)
(17/25) Installing libgcc (11.2.1_git20220219-r2)
(18/25) Installing libstdc++ (11.2.1_git20220219-r2)
(19/25) Installing mpdecimal (2.5.1-r1)
(20/25) Installing sqlite-libs (3.38.5-r0)
(21/25) Installing python3 (3.10.4-r0)
(22/25) Installing speedtest-cli (2.1.3-r2)
(23/25) Installing libunistring (1.0-r0)
(24/25) Installing libidn2 (2.3.2-r2)
(25/25) Installing wget (1.21.3-r0)
Executing busybox-1.35.0-r13.trigger
Executing ca-certificates-20211220-r0.trigger
OK: 75 MiB in 39 packages
+ speedtest-cli
Retrieving speedtest.net configuration...
Testing from The state institution The Main Economic Office of (93.125.111.90)...
Retrieving speedtest.net server list...
Selecting best server based on ping...
Hosted by beCloud (Minsk) [0.29 km]: 2.288 ms
Testing download speed................................................................................
Download: 82.86 Mbit/s
Testing upload speed......................................................................................................
Upload: 91.57 Mbit/s
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Checkout Git)
[Pipeline] git
The recommended git tool is: NONE
No credentials specified
Warning: JENKINS-30600: special launcher org.jenkinsci.plugins.docker.workflow.WithContainerStep$Decorator$1@7047000; decorates RemoteLauncher[hudson.remoting.Channel@2e71247a:bh-worker] will be ignored (a typical symptom is the Git executable not being run inside a designated container)
Cloning the remote Git repository
Cloning repository https://github.com/shadejant/belhard-devops.git
 > git init /home/worker/workspace/12.01 # timeout=10
Fetching upstream changes from https://github.com/shadejant/belhard-devops.git
 > git --version # timeout=10
 > git --version # 'git version 2.34.1'
 > git fetch --tags --force --progress -- https://github.com/shadejant/belhard-devops.git +refs/heads/*:refs/remotes/origin/* # timeout=10
Avoid second fetch
Checking out Revision 6e7cd7671a83b7322fc0b199da8d33ab4a0c91af (refs/remotes/origin/bh-devops-02-22)
Commit message: "Merge branch 'valerypiotuh:bh-devops-02-22' into bh-devops-02-22"
 > git config remote.origin.url https://github.com/shadejant/belhard-devops.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git rev-parse refs/remotes/origin/bh-devops-02-22^{commit} # timeout=10
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 6e7cd7671a83b7322fc0b199da8d33ab4a0c91af # timeout=10
 > git branch -a -v --no-abbrev # timeout=10
 > git checkout -b bh-devops-02-22 6e7cd7671a83b7322fc0b199da8d33ab4a0c91af # timeout=10
 > git rev-list --no-walk 6e7cd7671a83b7322fc0b199da8d33ab4a0c91af # timeout=10
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (List repository)
[Pipeline] sh
+ ls -la
total 76
drwxrwxr-x   17 1000     1000          4096 Jul 14 15:16 .
drwxr-xr-x    4 root     root          4096 Jul 14 15:15 ..
drwxrwxr-x    8 1000     1000          4096 Jul 14 15:16 .git
drwxrwxr-x    9 1000     1000          4096 Jul 14 15:16 Aleksandr_Blogushko
drwxrwxr-x    7 1000     1000          4096 Jul 14 15:16 Alex_Khomets
drwxrwxr-x    8 1000     1000          4096 Jul 14 15:16 Alexey_Golovnev
drwxrwxr-x    3 1000     1000          4096 Jul 14 15:16 Alexey_Khursevich
drwxrwxr-x    2 1000     1000          4096 Jul 14 15:16 Daniil_Subotkin
drwxrwxr-x    9 1000     1000          4096 Jul 14 15:16 Darya_Kaptsiuh
drwxrwxr-x    3 1000     1000          4096 Jul 14 15:16 Gennadiy_Kvachev
-rw-rw-r--    1 1000     1000           692 Jul 14 15:16 Jenkinsfile
drwxrwxr-x    5 1000     1000          4096 Jul 14 15:16 Julia_Petrova
-rw-rw-r--    1 1000     1000          2287 Jul 14 15:16 README.md
drwxrwxr-x    9 1000     1000          4096 Jul 14 15:16 Sergey_Kharkin
drwxrwxr-x    9 1000     1000          4096 Jul 14 15:16 Shashkou_Mikalai
drwxrwxr-x    7 1000     1000          4096 Jul 14 15:16 Stanislau_Smeyanovich
drwxrwxr-x    8 1000     1000          4096 Jul 14 15:16 Strembitski_Anton
drwxrwxr-x    7 1000     1000          4096 Jul 14 15:16 Uladzislau_Lahun
drwxrwxr-x    3 1000     1000          4096 Jul 14 15:16 Veronika_Minenkova
[Pipeline] }
[Pipeline] // stage
[Pipeline] stage
[Pipeline] { (Declarative: Post Actions)
[Pipeline] cleanWs
[WS-CLEANUP] Deleting project workspace...
[WS-CLEANUP] Deferred wipeout is used...
[WS-CLEANUP] done
[Pipeline] }
[Pipeline] // stage
[Pipeline] }
$ docker stop --time=1 7a1d2c610c40caf3acf7726a55e37ea57982d4b8df24254cbfbaa3c1b803cf69
$ docker rm -f 7a1d2c610c40caf3acf7726a55e37ea57982d4b8df24254cbfbaa3c1b803cf69
[Pipeline] // withDockerContainer
[Pipeline] }
[Pipeline] // node
[Pipeline] End of Pipeline
Finished: SUCCESS